<!DOCTYPE html>
<html>

<head>
    <title>商城範例 (4)</title>
    <link href="assets/css/main.css" rel="stylesheet">
    <link href="assets/css/cart.css" rel="stylesheet">
    <script src="assets/js/cookie.js"></script>
</head>

<body>
    <main>
        <section id="example-info" class="center">
            <h1 id="example-title" class="section-title">商城範例 (4)</h1>
            <p id="example-filename">ch05_ex08_cart-4.html</p>
        </section>
        <div id="shop-container">
            <button id="cart-toggle">購物車</button>
            <div id="products-container"></div>
            <div id="cart-container">
                <div id="added-products-container">
                    <div class="added-product">
                        <span class="added-product-title">商品名稱</span>
                        <span class="added-product-price">價格</span>
                    </div>
                </div>
                <div>購物車內有 <span id="cart-amount">0</span> 項商品</div>
                <div>總計 <span id="cart-subtotal">0</span> 元</div>
            </div>
            <a class="btn" href="checkout.html">確認商品並結帳</a>
        </div>
    </main>
    <script src="assets/js/shop.js"></script>
    <script>

        /*
        7. 
        用 getCookie(name) 來讀取儲存購物車中商品的 cookie,
        此時讀取的 cookie 為字串, 我們可以用 JSON.parse( getCookie(name) ) 將其轉換回陣列,
        並存到 productsInCookie,
        cookie 名稱儲存在 shop.cookieName
        */

        let productsInCookie = '';
        productsInCookie = JSON.parse(getCookie(shop.cookieName))
        shop.init(productsInCookie);

    </script>
</body>

</html>